{"@t":"2025-11-19T22:01:57.7341432Z","@mt":"Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.","@l":"Error","@x":"System.InvalidOperationException: Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 48\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"74dd0f84395bd086f9c9d5ce8a5ca8bb","@sp":"d582fe876095a1e8","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7MP0MRR0H:0000000B","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:02:17.2343725Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 12:02:17 AM","@tr":"574ef6e826c2f9eca00a2b0e00099d0b","@sp":"d631649c8b59a0ef","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:0000000C","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:02:17.2352445Z","@mt":"Property ActualEndTime:  => 11/19/2025 10:02:17 PM","@tr":"574ef6e826c2f9eca00a2b0e00099d0b","@sp":"d631649c8b59a0ef","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:0000000C","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:02:17.2355237Z","@mt":"Property Status: Scheduled => Confirmed","@tr":"574ef6e826c2f9eca00a2b0e00099d0b","@sp":"d631649c8b59a0ef","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:0000000C","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:02:24.9935710Z","@mt":"Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.","@l":"Error","@x":"System.InvalidOperationException: Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 48\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"d692facec5ad179ceb2acaa2b750cabc","@sp":"22ef01c5e14e4b5f","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7MP0MRR0H:0000000D","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:02:42.0400070Z","@mt":"Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.","@l":"Error","@x":"System.InvalidOperationException: Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 48\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"778bba21fa4cc80c9c72544ae2ccc563","@sp":"53f3caba83f51cdd","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7MP0MRR0H:0000000E","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:03:18.4085564Z","@mt":"Session not found.","@l":"Error","@x":"System.InvalidOperationException: Session not found.\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 25\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"bbb6b1bdf6d5b16354e159760656a60c","@sp":"b2517a54726a3f8c","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7MP0MRR0H:0000000F","RequestPath":"/api/Session/end/7","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:07:15.9591776Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 12:07:15 AM","@tr":"32d4cb930a8a08f01148affa76a41ded","@sp":"47dc2b8dc319f5ce","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:00000011","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:07:15.9599848Z","@mt":"Property ActualEndTime:  => 11/19/2025 10:07:15 PM","@tr":"32d4cb930a8a08f01148affa76a41ded","@sp":"47dc2b8dc319f5ce","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:00000011","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:07:15.9602990Z","@mt":"Property Status: Scheduled => Cancelled","@tr":"32d4cb930a8a08f01148affa76a41ded","@sp":"47dc2b8dc319f5ce","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a597adc5-02bb-4a28-8f20-db05e7b15154","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7MP0MRR0H:00000011","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7MP0MRR0H","Application":"YourProjectName"}
{"@t":"2025-11-19T22:11:15.9441375Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"6e4b9e1a48f4c6dd40031b1590d6df34","@sp":"165d7ac105088ee6","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7N1OLP95G:00000003","RequestPath":"/api/Appointment/9","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:11:16.5141643Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"6e4b9e1a48f4c6dd40031b1590d6df34","@sp":"165d7ac105088ee6","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"ebe3c495-db03-40f3-a36c-4e81fd3e9bc9","ActionName":"ClinicManagement.API.Controllers.AppointmentController.GetAppointmentById (ClinicManagement.API)","RequestId":"0HNH7N1OLP95G:00000003","RequestPath":"/api/Appointment/9","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:11:42.4408343Z","@mt":"Value cannot be null. (Parameter 'key')","@l":"Error","@x":"System.ArgumentNullException: Value cannot be null. (Parameter 'key')\r\n   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)\r\n   at System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue& value)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity, IEntityType entityType)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)\r\n   at ClinicManagement.Infrastructure.Repositories.GenericRepository`1.Update(T entity) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\GenericRepository.cs:line 39\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 44\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"78c16402b56bb4f4001dda1232548e28","@sp":"431919f002ce6c9f","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7N1OLP95G:00000004","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:12:15.2361881Z","@mt":"Value cannot be null. (Parameter 'key')","@l":"Error","@x":"System.ArgumentNullException: Value cannot be null. (Parameter 'key')\r\n   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)\r\n   at System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue& value)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity, IEntityType entityType)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)\r\n   at ClinicManagement.Infrastructure.Repositories.GenericRepository`1.Update(T entity) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\GenericRepository.cs:line 39\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 44\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"fe10fba43f484d7c10c993155e5efad5","@sp":"1ebba88ca39699c4","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7N1OLP95G:00000005","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:12:33.8076138Z","@mt":"Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.","@l":"Error","@x":"System.InvalidOperationException: Only scheduled sessions can be ended with status 'Done' or 'Cancelled'.\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 49\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"62f00d6f0762e02d3e3c71ef1ff40057","@sp":"b1ac4c27a82e5bad","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7N1OLP95G:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:12:40.2700738Z","@mt":"Value cannot be null. (Parameter 'key')","@l":"Error","@x":"System.ArgumentNullException: Value cannot be null. (Parameter 'key')\r\n   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)\r\n   at System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue& value)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity, IEntityType entityType)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)\r\n   at ClinicManagement.Infrastructure.Repositories.GenericRepository`1.Update(T entity) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\GenericRepository.cs:line 39\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 44\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"5d61ad2b035ed63eae5384bbc8c89290","@sp":"b5dd3dabd0b46059","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7N1OLP95G:00000007","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N1OLP95G","Application":"YourProjectName"}
{"@t":"2025-11-19T22:13:18.7022898Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a745dff271a94d8aad3633ccfe8c8c7d","@sp":"1bdd0ca0b060c3b4","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7N370SQPB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N370SQPB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:13:19.1378996Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"a745dff271a94d8aad3633ccfe8c8c7d","@sp":"1bdd0ca0b060c3b4","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"52356f7a-358d-41d9-91a4-7a82bc37abe7","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N370SQPB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N370SQPB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:13:26.9689265Z","@mt":"Value cannot be null. (Parameter 'key')","@l":"Error","@x":"System.ArgumentNullException: Value cannot be null. (Parameter 'key')\r\n   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)\r\n   at System.Collections.Generic.Dictionary`2.TryGetValue(TKey key, TValue& value)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity, IEntityType entityType)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)\r\n   at ClinicManagement.Infrastructure.Repositories.GenericRepository`1.Update(T entity) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\GenericRepository.cs:line 39\r\n   at ClinicManagement.Infrastructure.Services.SessionManagementService.EndSessionAsync(Int32 sessionId, SessionStatus status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\SessionManagementService.cs:line 44\r\n   at ClinicManagement.Application.Commands.Sessions.EndSession.EndSessionHandler.Handle(EndSessionCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Sessions\\EndSession\\EndSessionHandler.cs:line 22\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.SessionController.EndSession(Int32 sessionId, String status) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionController.cs:line 132\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"a745dff271a94d8aad3633ccfe8c8c7d","@sp":"1bdd0ca0b060c3b4","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7N370SQPB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N370SQPB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:16:43.2613890Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"420767efdffb40d3d672e7ab02701e68","@sp":"546b0117f53f20e2","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7N52I3DHT:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N52I3DHT","Application":"YourProjectName"}
{"@t":"2025-11-19T22:16:43.8036186Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"420767efdffb40d3d672e7ab02701e68","@sp":"546b0117f53f20e2","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e2229cbd-4a06-42fe-a5e4-7a6faa855815","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N52I3DHT:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N52I3DHT","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:07.6737593Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:08.2398946Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:11.3654861Z","@mt":"Entity: Appointment, Action: Modified, Time: 11/20/2025 12:23:11 AM","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:11.3739977Z","@mt":"Property Status: Confirmed => Cancelled","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:11.3742398Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 12:23:11 AM","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:11.3788287Z","@mt":"Property ActualEndTime:  => 11/19/2025 10:23:11 PM","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:23:11.3829667Z","@mt":"Property Status: Scheduled => Cancelled","@tr":"15f9123197b139771023336d46e3415b","@sp":"332851f33cfb046a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"c48ff9b9-9941-4d8f-ac6b-5c8e1d106162","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:24:53.7366336Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 12:24:53 AM","@tr":"5adce8f3a16f635ba45eb254a794172d","@sp":"674bd705df280c52","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3e548be1-d796-4e07-8748-1624a8529e30","ActionName":"ClinicManagement.API.Controllers.SessionController.AddDoctorNotes (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000006","RequestPath":"/api/Session/add-doctor-notes/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:24:53.7381036Z","@mt":"Property Notes:  => Testingggg","@tr":"5adce8f3a16f635ba45eb254a794172d","@sp":"674bd705df280c52","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3e548be1-d796-4e07-8748-1624a8529e30","ActionName":"ClinicManagement.API.Controllers.SessionController.AddDoctorNotes (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000006","RequestPath":"/api/Session/add-doctor-notes/6","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:25:03.6936273Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 12:25:03 AM","@tr":"cd9f16b6c79a579953d5a8a3ed508035","@sp":"431ad6e3bdb78940","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3e548be1-d796-4e07-8748-1624a8529e30","ActionName":"ClinicManagement.API.Controllers.SessionController.AddDoctorNotes (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000007","RequestPath":"/api/Session/add-doctor-notes/5","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:25:03.6938433Z","@mt":"Property Notes: Neurological check completed successfully. Patient advised to rest. => Testingggg","@tr":"cd9f16b6c79a579953d5a8a3ed508035","@sp":"431ad6e3bdb78940","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3e548be1-d796-4e07-8748-1624a8529e30","ActionName":"ClinicManagement.API.Controllers.SessionController.AddDoctorNotes (ClinicManagement.API)","RequestId":"0HNH7N8M14HDB:00000007","RequestPath":"/api/Session/add-doctor-notes/5","ConnectionId":"0HNH7N8M14HDB","Application":"YourProjectName"}
{"@t":"2025-11-19T22:29:02.2110882Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"73d240ddb1ee70fa2edb1435f0ec8854","@sp":"9d50e0126d8d13b9","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7NBRMLF42:00000003","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NBRMLF42","Application":"YourProjectName"}
{"@t":"2025-11-19T22:29:05.7560521Z","@mt":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nSessionServiceDto -> SessionService\r\nClinicManagement.Domain.DTOs.SessionServiceDTOs.SessionServiceDto -> ClinicManagement.Domain.Entities.SessionService","@l":"Error","@x":"AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nSessionServiceDto -> SessionService\r\nClinicManagement.Domain.DTOs.SessionServiceDTOs.SessionServiceDto -> ClinicManagement.Domain.Entities.SessionService\r\n   at lambda_method252(Closure, Object, SessionService, ResolutionContext)\r\n   at ClinicManagement.API.Controllers.SessionServiceController.CreateSessionService(SessionServiceDto sessionServiceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionServiceController.cs:line 79\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"73d240ddb1ee70fa2edb1435f0ec8854","@sp":"9d50e0126d8d13b9","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7NBRMLF42:00000003","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NBRMLF42","Application":"YourProjectName"}
{"@t":"2025-11-19T22:31:48.8785447Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"fa69a93fe52f6b89f56e7c4f206af652","@sp":"f0a9b147255e424d","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7NDGVI19I:00000003","RequestPath":"/api/SessionService/4","ConnectionId":"0HNH7NDGVI19I","Application":"YourProjectName"}
{"@t":"2025-11-19T22:32:53.0445319Z","@mt":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nSessionServiceDto -> SessionService\r\nClinicManagement.Domain.DTOs.SessionServiceDTOs.SessionServiceDto -> ClinicManagement.Domain.Entities.SessionService","@l":"Error","@x":"AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nSessionServiceDto -> SessionService\r\nClinicManagement.Domain.DTOs.SessionServiceDTOs.SessionServiceDto -> ClinicManagement.Domain.Entities.SessionService\r\n   at lambda_method328(Closure, Object, SessionService, ResolutionContext)\r\n   at ClinicManagement.API.Controllers.SessionServiceController.CreateSessionService(SessionServiceDto sessionServiceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\SessionServiceController.cs:line 79\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"0589f9604e2bb924b385b246c74eb383","@sp":"0fc68ebd260fa929","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7NDGVI19I:00000006","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NDGVI19I","Application":"YourProjectName"}
{"@t":"2025-11-19T22:34:38.1764150Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c5c52cbea4c2948caaaf278ae1fa6c02","@sp":"6f2c659781e5e108","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7NF1OLOTF:00000003","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NF1OLOTF","Application":"YourProjectName"}
{"@t":"2025-11-19T22:34:41.6905191Z","@mt":"Entity: SessionService, Action: Added, Time: 11/20/2025 12:34:41 AM","@tr":"c5c52cbea4c2948caaaf278ae1fa6c02","@sp":"6f2c659781e5e108","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0673e6ab-9645-45a9-9517-1fa894925c09","ActionName":"ClinicManagement.API.Controllers.SessionServiceController.CreateSessionService (ClinicManagement.API)","RequestId":"0HNH7NF1OLOTF:00000003","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NF1OLOTF","Application":"YourProjectName"}
{"@t":"2025-11-19T22:34:50.3898885Z","@mt":"Entity: SessionService, Action: Added, Time: 11/20/2025 12:34:50 AM","@tr":"33c20fbdeeee5ef802471b1e87fe6d62","@sp":"5d0f6ee9e9d3170a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0673e6ab-9645-45a9-9517-1fa894925c09","ActionName":"ClinicManagement.API.Controllers.SessionServiceController.CreateSessionService (ClinicManagement.API)","RequestId":"0HNH7NF1OLOTF:00000004","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NF1OLOTF","Application":"YourProjectName"}
{"@t":"2025-11-19T22:35:13.7006957Z","@mt":"Entity: SessionService, Action: Added, Time: 11/20/2025 12:35:13 AM","@tr":"3b2b6e9e560f3dd080766981e18f9859","@sp":"df55f07dcadbe600","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0673e6ab-9645-45a9-9517-1fa894925c09","ActionName":"ClinicManagement.API.Controllers.SessionServiceController.CreateSessionService (ClinicManagement.API)","RequestId":"0HNH7NF1OLOTF:00000005","RequestPath":"/api/SessionService","ConnectionId":"0HNH7NF1OLOTF","Application":"YourProjectName"}
{"@t":"2025-11-19T22:35:18.0534755Z","@mt":"Entity: SessionService, Action: Deleted, Time: 11/20/2025 12:35:18 AM","@tr":"310ce9003906b0b45565d789a0f35312","@sp":"dbabdb0b671006b0","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"9cb42083-79b3-4067-8cf9-dcb675c2441f","ActionName":"ClinicManagement.API.Controllers.SessionServiceController.DeleteSessionService (ClinicManagement.API)","RequestId":"0HNH7NF1OLOTF:00000006","RequestPath":"/api/SessionService/6/3","ConnectionId":"0HNH7NF1OLOTF","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:26.0768198Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:26.6776772Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8707535Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:10:29 AM","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8710286Z","@mt":"Entity: Appointment, Action: Modified, Time: 11/20/2025 3:10:29 AM","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8816109Z","@mt":"Property Status: Cancelled => Confirmed","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8819094Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 3:10:29 AM","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8843989Z","@mt":"Property ActualEndTime:  => 11/20/2025 1:10:29 AM","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:29.8872102Z","@mt":"Property Status: Scheduled => Confirmed","@tr":"4f0e14f00c3aee8b17f1c8ecc7633194","@sp":"612fd744c00afe05","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000003","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:45.6054684Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"5b5267397a0732c2e9468f715f752136","@sp":"323c0856a307b459","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ab144a66-a2d5-4734-a0d3-6af9fa55c521","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:10:45.6065715Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"5b5267397a0732c2e9468f715f752136","@sp":"323c0856a307b459","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ab144a66-a2d5-4734-a0d3-6af9fa55c521","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:12.5245517Z","@mt":"Entity: Attendance, Action: Deleted, Time: 11/20/2025 3:12:12 AM","@tr":"4cc629b341e95585620fefa713c18b90","@sp":"0edde8f3b00d2679","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"f2f7b560-d119-4928-a1ad-27ba3fd90c4e","ActionName":"ClinicManagement.API.Controllers.AttendanceController.DeleteAttendance (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000005","RequestPath":"/api/Attendance/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4345685Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:12:28 AM","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4348200Z","@mt":"Entity: Appointment, Action: Modified, Time: 11/20/2025 3:12:28 AM","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4349600Z","@mt":"Property Status: Confirmed => Cancelled","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4350095Z","@mt":"Entity: Session, Action: Modified, Time: 11/20/2025 3:12:28 AM","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4350536Z","@mt":"Property ActualEndTime:  => 11/20/2025 1:12:28 AM","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:12:28.4351012Z","@mt":"Property Status: Scheduled => Cancelled","@tr":"5cbb143e244a6f6371bda2dedf525f14","@sp":"1282e72584986382","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a5d932c0-ed9c-4250-bfd8-70cd666d67d6","ActionName":"ClinicManagement.API.Controllers.SessionController.EndSession (ClinicManagement.API)","RequestId":"0HNH7Q5RPOL6S:00000006","RequestPath":"/api/Session/end/6","ConnectionId":"0HNH7Q5RPOL6S","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:46.2858288Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:46.4875228Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"65bbb8bf-1543-42d6-b4d0-9a97e3c08d55","ActionName":"ClinicManagement.API.Controllers.AccountController.PatientRegister (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:50.1341813Z","@mt":"Entity: Patient, Action: Added, Time: 11/20/2025 3:15:50 AM","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"65bbb8bf-1543-42d6-b4d0-9a97e3c08d55","ActionName":"ClinicManagement.API.Controllers.AccountController.PatientRegister (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:50.4856541Z","@mt":"Entity: IdentityUserRole`1, Action: Added, Time: 11/20/2025 3:15:50 AM","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"65bbb8bf-1543-42d6-b4d0-9a97e3c08d55","ActionName":"ClinicManagement.API.Controllers.AccountController.PatientRegister (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:50.4858044Z","@mt":"Entity: Patient, Action: Modified, Time: 11/20/2025 3:15:50 AM","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"65bbb8bf-1543-42d6-b4d0-9a97e3c08d55","ActionName":"ClinicManagement.API.Controllers.AccountController.PatientRegister (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:15:50.4867331Z","@mt":"Property ConcurrencyStamp: afc28462-d9f3-4d61-87b8-9048180f5459 => 9d3b33de-092b-4e1c-95ad-66d3147b4852","@tr":"84b3dd258fa616505268a32b38eeacac","@sp":"f146e4c9ac664b14","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"65bbb8bf-1543-42d6-b4d0-9a97e3c08d55","ActionName":"ClinicManagement.API.Controllers.AccountController.PatientRegister (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000003","RequestPath":"/api/Account/Patient_Register","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:16:22.8015196Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"54142132d371451ec72a40c6f48689df","@sp":"45e923c31d66545e","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7706d0b6-6c9f-443c-a283-c2edc82ad7aa","ActionName":"ClinicManagement.API.Controllers.PatientController.GetAllPatients (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000004","RequestPath":"/api/Patient","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:16:22.8025152Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"54142132d371451ec72a40c6f48689df","@sp":"45e923c31d66545e","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7706d0b6-6c9f-443c-a283-c2edc82ad7aa","ActionName":"ClinicManagement.API.Controllers.PatientController.GetAllPatients (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000004","RequestPath":"/api/Patient","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:17:11.0266119Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"88e9e22b777773203be23a5a40b37dad","@sp":"7a65d9ec3afb6fd2","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"77fe2f81-d3eb-4252-ab3d-64e62931f9a2","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:17:11.0269571Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"88e9e22b777773203be23a5a40b37dad","@sp":"7a65d9ec3afb6fd2","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"77fe2f81-d3eb-4252-ab3d-64e62931f9a2","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7Q8OS30ST:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:17:31.4280685Z","@mt":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nCreateAttendaceDto -> Attendance\r\nClinicManagement.Domain.DTOs.AttendanceDTOs.CreateAttendaceDto -> ClinicManagement.Domain.Entities.Attendance","@l":"Error","@x":"AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nCreateAttendaceDto -> Attendance\r\nClinicManagement.Domain.DTOs.AttendanceDTOs.CreateAttendaceDto -> ClinicManagement.Domain.Entities.Attendance\r\n   at lambda_method747(Closure, Object, Attendance, ResolutionContext)\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 75\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"19a5d2b737fc8efb6a3d228e76ca8d41","@sp":"b494565ab90622bb","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7Q8OS30ST:00000006","RequestPath":"/api/Attendance","ConnectionId":"0HNH7Q8OS30ST","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:50.8250151Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:51.4137824Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:53.3855438Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:18:53 AM","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:54.3068344Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:54.3876898Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:18:54.6119098Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 77\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"7a1e2ce4164e258122fb649bb5d735e9","@sp":"dd5e832bd0feef59","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QAR81V3E:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:19:09.1406636Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:19:09 AM","@tr":"f1605f9a920e0f78b644982a25f61931","@sp":"d5ec000d45efaaf5","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:19:09.1567920Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (1).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"f1605f9a920e0f78b644982a25f61931","@sp":"d5ec000d45efaaf5","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (1).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:19:09.2129221Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (1).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"f1605f9a920e0f78b644982a25f61931","@sp":"d5ec000d45efaaf5","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"39370386-d1d4-4e6d-88f5-89398a58e7f8","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QAR81V3E:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:19:09.3957155Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (1).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:35cca79f-db15-40b1-8a64-274bf27deb92\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 77\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"f1605f9a920e0f78b644982a25f61931","@sp":"d5ec000d45efaaf5","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QAR81V3E:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QAR81V3E","Application":"YourProjectName"}
{"@t":"2025-11-20T01:28:58.4788073Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"42714eb583a0df1da388e91e4f6f7307","@sp":"184f89ff54376ef4","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QGFGMJ8V:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:28:59.0951043Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"42714eb583a0df1da388e91e4f6f7307","@sp":"184f89ff54376ef4","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"a609f4b0-ee8e-4af0-be86-3fd82e88e14a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QGFGMJ8V:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:32:22.0628010Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:32:22 AM","@tr":"cc82c28b79eb2d4c3e3865fd6f8921ec","@sp":"1a93405d47b45b64","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a609f4b0-ee8e-4af0-be86-3fd82e88e14a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QGFGMJ8V:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:32:22.3074265Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f31c1415-ed74-4739-9dc3-a4ec4cee441b\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"cc82c28b79eb2d4c3e3865fd6f8921ec","@sp":"1a93405d47b45b64","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f31c1415-ed74-4739-9dc3-a4ec4cee441b\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"a609f4b0-ee8e-4af0-be86-3fd82e88e14a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QGFGMJ8V:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:32:22.4104441Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f31c1415-ed74-4739-9dc3-a4ec4cee441b\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"cc82c28b79eb2d4c3e3865fd6f8921ec","@sp":"1a93405d47b45b64","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a609f4b0-ee8e-4af0-be86-3fd82e88e14a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QGFGMJ8V:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:32:22.6771794Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f31c1415-ed74-4739-9dc3-a4ec4cee441b\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 82\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"cc82c28b79eb2d4c3e3865fd6f8921ec","@sp":"1a93405d47b45b64","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QGFGMJ8V:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QGFGMJ8V","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:35.5686308Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:36.1488542Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:39.1460542Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:36:39 AM","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:39.3156547Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:39.3970928Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:36:39.6777409Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 82\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"665a1199ef3279b6758185782fa56b7f","@sp":"f5bd1bd1e88c2c18","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QKMAA6Q8:00000004","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:37:49.3597995Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:37:49 AM","@tr":"d9209a1eb2f31aac03c0dc872faa9566","@sp":"2cb2186b60e16e41","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:37:59.5831709Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:37:59 AM","@tr":"19541f76ae86b0028d0be1244cde64ae","@sp":"85903fb3fed3ace7","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000006","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:37:59.5902810Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"19541f76ae86b0028d0be1244cde64ae","@sp":"85903fb3fed3ace7","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000006","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:37:59.6300516Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"19541f76ae86b0028d0be1244cde64ae","@sp":"85903fb3fed3ace7","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"960f96a8-f883-49f4-8000-8201fb26361f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QKMAA6Q8:00000006","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:37:59.8387320Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:638f88ed-71a0-4cb3-9330-549e233ce65e\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 82\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"19541f76ae86b0028d0be1244cde64ae","@sp":"85903fb3fed3ace7","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QKMAA6Q8:00000006","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QKMAA6Q8","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:19.0094783Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:19.6083806Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"4f6e2abc-7520-4384-b4a7-2581554880c9","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:27.1889316Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:39:27 AM","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"4f6e2abc-7520-4384-b4a7-2581554880c9","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:27.3320865Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:622ca733-2dd6-4c53-80c5-79b1a1a1333f\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:622ca733-2dd6-4c53-80c5-79b1a1a1333f\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"4f6e2abc-7520-4384-b4a7-2581554880c9","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:27.3687472Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:622ca733-2dd6-4c53-80c5-79b1a1a1333f\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"4f6e2abc-7520-4384-b4a7-2581554880c9","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:39:27.5414620Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:622ca733-2dd6-4c53-80c5-79b1a1a1333f\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 82\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"513d1282ada34ca11e2326cda36f9d70","@sp":"70d85c693475ac70","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QM9I43QV:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QM9I43QV","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:04.1599879Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:04.7684346Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"3174183e-59b6-4c43-98b8-b3857e53837f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:41.4004471Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:40:41 AM","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3174183e-59b6-4c43-98b8-b3857e53837f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:41.5765065Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:a1ca2c45-0544-4691-b403-55936f40ac69\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:a1ca2c45-0544-4691-b403-55936f40ac69\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"3174183e-59b6-4c43-98b8-b3857e53837f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:41.6110221Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:a1ca2c45-0544-4691-b403-55936f40ac69\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"3174183e-59b6-4c43-98b8-b3857e53837f","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:40:41.8170920Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:a1ca2c45-0544-4691-b403-55936f40ac69\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.AttendanceController.CreateAttendance(CreateAttendaceDto attendanceDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 82\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"648091c9c75c40aa7a77389581a8d962","@sp":"bc92725f4e30c16b","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7QMNA4S4Q:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QMNA4S4Q","Application":"YourProjectName"}
{"@t":"2025-11-20T01:41:36.7284436Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"48de56546f555f70edf1155039fa54b0","@sp":"886f2ec98be49163","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QNC3FF08:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QNC3FF08","Application":"YourProjectName"}
{"@t":"2025-11-20T01:41:37.2781893Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"48de56546f555f70edf1155039fa54b0","@sp":"886f2ec98be49163","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"436a7602-8145-4ee8-83c7-cc870764da94","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QNC3FF08:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QNC3FF08","Application":"YourProjectName"}
{"@t":"2025-11-20T01:42:08.1447673Z","@mt":"Entity: Attendance, Action: Added, Time: 11/20/2025 3:42:08 AM","@tr":"48de56546f555f70edf1155039fa54b0","@sp":"886f2ec98be49163","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"436a7602-8145-4ee8-83c7-cc870764da94","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QNC3FF08:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QNC3FF08","Application":"YourProjectName"}
{"@t":"2025-11-20T01:42:16.7774895Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:7fc5c1b4-1c9b-4028-8b21-24501a98a503\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"48de56546f555f70edf1155039fa54b0","@sp":"886f2ec98be49163","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Attendances' with unique index 'IX_Attendances_SessionId'. The duplicate key value is (6).\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:7fc5c1b4-1c9b-4028-8b21-24501a98a503\r\nError Number:2601,State:1,Class:14\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"436a7602-8145-4ee8-83c7-cc870764da94","ActionName":"ClinicManagement.API.Controllers.AttendanceController.CreateAttendance (ClinicManagement.API)","RequestId":"0HNH7QNC3FF08:00000003","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QNC3FF08","Application":"YourProjectName"}
{"@t":"2025-11-20T01:43:16.3022626Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"f355d226343fbbd7dcd73693233358c0","@sp":"e740b609f586d4fb","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QOIAFQE0:00000003","RequestPath":"/api/Attendance/1","ConnectionId":"0HNH7QOIAFQE0","Application":"YourProjectName"}
{"@t":"2025-11-20T01:43:16.8569018Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"f355d226343fbbd7dcd73693233358c0","@sp":"e740b609f586d4fb","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"72e3bb0b-7db0-4113-b07a-0e8d1192a867","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAttendanceById (ClinicManagement.API)","RequestId":"0HNH7QOIAFQE0:00000003","RequestPath":"/api/Attendance/1","ConnectionId":"0HNH7QOIAFQE0","Application":"YourProjectName"}
{"@t":"2025-11-20T01:43:44.5504760Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"7efe7741aabbbf60ddb37214d985e8a4","@sp":"c77bb607e941592d","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b513028f-64a8-47df-9c2b-d1900cbbdafa","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7QOIAFQE2:00000001","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QOIAFQE2","Application":"YourProjectName"}
{"@t":"2025-11-20T01:43:44.5515507Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"7efe7741aabbbf60ddb37214d985e8a4","@sp":"c77bb607e941592d","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b513028f-64a8-47df-9c2b-d1900cbbdafa","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7QOIAFQE2:00000001","RequestPath":"/api/Attendance","ConnectionId":"0HNH7QOIAFQE2","Application":"YourProjectName"}
{"@t":"2025-11-20T01:44:32.4536093Z","@mt":"Entity: Attendance, Action: Modified, Time: 11/20/2025 3:44:32 AM","@tr":"84485352e6b8781211f96cfbfa239ea2","@sp":"f33459bdc6fd9e89","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"36dc450e-82a9-4b8a-8a93-aa5418757b69","ActionName":"ClinicManagement.API.Controllers.AttendanceController.UpdateAttendance (ClinicManagement.API)","RequestId":"0HNH7QOIAFQE2:00000003","RequestPath":"/api/Attendance/12","ConnectionId":"0HNH7QOIAFQE2","Application":"YourProjectName"}
{"@t":"2025-11-20T01:44:32.4589682Z","@mt":"Property IsPresent: True => False","@tr":"84485352e6b8781211f96cfbfa239ea2","@sp":"f33459bdc6fd9e89","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"36dc450e-82a9-4b8a-8a93-aa5418757b69","ActionName":"ClinicManagement.API.Controllers.AttendanceController.UpdateAttendance (ClinicManagement.API)","RequestId":"0HNH7QOIAFQE2:00000003","RequestPath":"/api/Attendance/12","ConnectionId":"0HNH7QOIAFQE2","Application":"YourProjectName"}
{"@t":"2025-11-20T01:57:06.4994534Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"f935be3d8f1aa5eddcd93366bac6956a","@sp":"a87de1a40c4ed7c2","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7QVKHV1TI:00000003","RequestPath":"/api/Attendance/absent-patients","ConnectionId":"0HNH7QVKHV1TI","Application":"YourProjectName"}
{"@t":"2025-11-20T01:57:07.1455980Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"f935be3d8f1aa5eddcd93366bac6956a","@sp":"a87de1a40c4ed7c2","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"bf324870-55bf-4f92-a9b5-4d492afb97e3","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAbsentPatientsByDate (ClinicManagement.API)","RequestId":"0HNH7QVKHV1TI:00000003","RequestPath":"/api/Attendance/absent-patients","ConnectionId":"0HNH7QVKHV1TI","Application":"YourProjectName"}
{"@t":"2025-11-20T02:03:19.8707854Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"5e4254bd8a67b5c913f0f1b996753130","@sp":"2a6e6df0a9888c8a","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7R3LC5DSG:00000004","RequestPath":"/api/Attendance/absent-patients","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:03:20.4289656Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"5e4254bd8a67b5c913f0f1b996753130","@sp":"2a6e6df0a9888c8a","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"94956884-a9a7-4686-9c23-144c7fa62fc7","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAbsentPatientsByDate (ClinicManagement.API)","RequestId":"0HNH7R3LC5DSG:00000004","RequestPath":"/api/Attendance/absent-patients","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:03:41.6850318Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e3591c6f2522bf7b6751682007985341","@sp":"c95580a25671ed15","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"687f24a4-66ea-4723-9ef4-8a705055ee2a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7R3LC5DSG:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:03:41.6862796Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e3591c6f2522bf7b6751682007985341","@sp":"c95580a25671ed15","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"687f24a4-66ea-4723-9ef4-8a705055ee2a","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7R3LC5DSG:00000005","RequestPath":"/api/Attendance","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:05:30.0313378Z","@mt":"Session not valid for attendance.","@l":"Error","@x":"System.InvalidOperationException: Session not valid for attendance.\r\n   at ClinicManagement.Infrastructure.Services.AttendanceService.MarkPresentAsync(Int32 sessionId, String patientId, String notes) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\AttendanceService.cs:line 25\r\n   at ClinicManagement.Application.Commands.Attendances.MarkPresent.MarkPresentHandler.Handle(MarkPresentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Attendances\\MarkPresent\\MarkPresentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent(MarkPresentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 201\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"a78d1726d0b1abce99af5dd5362507b6","@sp":"d977a51d264bf074","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7R3LC5DSG:00000006","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:05:55.9155097Z","@mt":"Session not valid for attendance.","@l":"Error","@x":"System.InvalidOperationException: Session not valid for attendance.\r\n   at ClinicManagement.Infrastructure.Services.AttendanceService.MarkPresentAsync(Int32 sessionId, String patientId, String notes) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\AttendanceService.cs:line 25\r\n   at ClinicManagement.Application.Commands.Attendances.MarkPresent.MarkPresentHandler.Handle(MarkPresentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Attendances\\MarkPresent\\MarkPresentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent(MarkPresentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 201\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"37076fedc7694e5aaf155bfedb37925f","@sp":"d04e1e6b6b4ebd2d","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7R3LC5DSG:00000007","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:06:18.7587276Z","@mt":"Session not valid for attendance.","@l":"Error","@x":"System.InvalidOperationException: Session not valid for attendance.\r\n   at ClinicManagement.Infrastructure.Services.AttendanceService.MarkPresentAsync(Int32 sessionId, String patientId, String notes) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\AttendanceService.cs:line 25\r\n   at ClinicManagement.Application.Commands.Attendances.MarkPresent.MarkPresentHandler.Handle(MarkPresentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Attendances\\MarkPresent\\MarkPresentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent(MarkPresentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 201\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"588a526ea17eb60131dcf7b0136393eb","@sp":"4ba36e13c6b6da72","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7R3LC5DSG:00000008","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7R3LC5DSG","Application":"YourProjectName"}
{"@t":"2025-11-20T02:10:57.1353304Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"905dcc4b26273d7654246bf02ff3a2d3","@sp":"7004887f226f6c80","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7R7S3RTCQ:00000003","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7R7S3RTCQ","Application":"YourProjectName"}
{"@t":"2025-11-20T02:10:57.7113077Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"905dcc4b26273d7654246bf02ff3a2d3","@sp":"7004887f226f6c80","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"143e5d44-2123-4548-b392-0ab672d2a32d","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7R7S3RTCQ:00000003","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7R7S3RTCQ","Application":"YourProjectName"}
{"@t":"2025-11-20T02:18:41.0318355Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"39021a2f7da0286be4078a6efa5b7555","@sp":"8ddcbd6ad49b895e","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7RC6T69UL:00000003","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7RC6T69UL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:18:41.7229702Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"39021a2f7da0286be4078a6efa5b7555","@sp":"8ddcbd6ad49b895e","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"f01b7aa0-8dcd-4392-b902-a6eb3ee1c367","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7RC6T69UL:00000003","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7RC6T69UL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:18:45.3481144Z","@mt":"Attendance already recorded for this session.","@l":"Error","@x":"System.InvalidOperationException: Attendance already recorded for this session.\r\n   at ClinicManagement.Infrastructure.Services.AttendanceService.MarkPresentAsync(Int32 sessionId, String patientId, String notes) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\AttendanceService.cs:line 29\r\n   at ClinicManagement.Application.Commands.Attendances.MarkPresent.MarkPresentHandler.Handle(MarkPresentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Attendances\\MarkPresent\\MarkPresentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent(MarkPresentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\AttendanceController.cs:line 201\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"39021a2f7da0286be4078a6efa5b7555","@sp":"8ddcbd6ad49b895e","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7RC6T69UL:00000003","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7RC6T69UL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:29:51.8806179Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"376ce03bb08d8e7785a35c94f4930a19","@sp":"6ded1d5ea3929667","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7RH8KI2DL:00000003","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:29:52.5274732Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"376ce03bb08d8e7785a35c94f4930a19","@sp":"6ded1d5ea3929667","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e8d39ff2-ec2d-4f4b-99e8-cfa70c16ed2b","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsAbsent (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000003","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:29:55.6917392Z","@mt":"Entity: Attendance, Action: Modified, Time: 11/20/2025 4:29:55 AM","@tr":"376ce03bb08d8e7785a35c94f4930a19","@sp":"6ded1d5ea3929667","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"e8d39ff2-ec2d-4f4b-99e8-cfa70c16ed2b","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsAbsent (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000003","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:29:55.6967914Z","@mt":"Property IsPresent: True => False","@tr":"376ce03bb08d8e7785a35c94f4930a19","@sp":"6ded1d5ea3929667","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"e8d39ff2-ec2d-4f4b-99e8-cfa70c16ed2b","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsAbsent (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000003","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:31:05.5745144Z","@mt":"Entity: Attendance, Action: Modified, Time: 11/20/2025 4:31:05 AM","@tr":"b1b3b24c4c79c91517dc9d85a4bc9157","@sp":"ff90512e4430c825","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"48018235-15c9-4a93-a826-945176f6fce0","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000004","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:31:05.5748774Z","@mt":"Property IsPresent: False => True","@tr":"b1b3b24c4c79c91517dc9d85a4bc9157","@sp":"ff90512e4430c825","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"48018235-15c9-4a93-a826-945176f6fce0","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000004","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:32:21.4854515Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e31dc7ff7c7b926831075215883a1f43","@sp":"eacb2d4bb2b685e1","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ef374d74-795e-4003-b2d7-73ed1517aa7d","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000007","RequestPath":"/api/Attendance","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:32:21.4868850Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e31dc7ff7c7b926831075215883a1f43","@sp":"eacb2d4bb2b685e1","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ef374d74-795e-4003-b2d7-73ed1517aa7d","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAllAttendance (ClinicManagement.API)","RequestId":"0HNH7RH8KI2DL:00000007","RequestPath":"/api/Attendance","ConnectionId":"0HNH7RH8KI2DL","Application":"YourProjectName"}
{"@t":"2025-11-20T02:37:02.1249800Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a913736a6a187b68e967be139b687ffd","@sp":"ab5e559d931119d0","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7RMH09OH3:00000003","RequestPath":"/api/Attendance/absent-patients/2025-11-19T23:59:00","ConnectionId":"0HNH7RMH09OH3","Application":"YourProjectName"}
{"@t":"2025-11-20T02:37:02.7446188Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"a913736a6a187b68e967be139b687ffd","@sp":"ab5e559d931119d0","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"56e83f8e-9252-4a94-9b69-c5a7a9b03de6","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAbsentPatientsByDate (ClinicManagement.API)","RequestId":"0HNH7RMH09OH3:00000003","RequestPath":"/api/Attendance/absent-patients/2025-11-19T23:59:00","ConnectionId":"0HNH7RMH09OH3","Application":"YourProjectName"}
{"@t":"2025-11-20T02:37:29.6761829Z","@mt":"Entity: Attendance, Action: Modified, Time: 11/20/2025 4:37:29 AM","@tr":"a698342389f57086f165908d59cf069e","@sp":"b50c148d62ec19dc","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"ff96536f-c85d-4ddc-9272-67b6939f8767","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsAbsent (ClinicManagement.API)","RequestId":"0HNH7RMH09OH3:00000004","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RMH09OH3","Application":"YourProjectName"}
{"@t":"2025-11-20T02:37:29.6814481Z","@mt":"Property IsPresent: True => False","@tr":"a698342389f57086f165908d59cf069e","@sp":"b50c148d62ec19dc","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"ff96536f-c85d-4ddc-9272-67b6939f8767","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsAbsent (ClinicManagement.API)","RequestId":"0HNH7RMH09OH3:00000004","RequestPath":"/api/Attendance/mark-absent","ConnectionId":"0HNH7RMH09OH3","Application":"YourProjectName"}
{"@t":"2025-11-20T02:43:10.4351472Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"8f2a4b541312373d1a4ce08ce6d17860","@sp":"c96cf640d8a67496","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7RPNLCVD0:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7RPNLCVD0","Application":"YourProjectName"}
{"@t":"2025-11-20T02:43:13.8794528Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"8f2a4b541312373d1a4ce08ce6d17860","@sp":"c96cf640d8a67496","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"1d32cbb1-45cc-4b6c-b5a7-fa7f1b55c050","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7RPNLCVD0:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7RPNLCVD0","Application":"YourProjectName"}
{"@t":"2025-11-20T02:43:13.8805926Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"8f2a4b541312373d1a4ce08ce6d17860","@sp":"c96cf640d8a67496","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"1d32cbb1-45cc-4b6c-b5a7-fa7f1b55c050","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7RPNLCVD0:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7RPNLCVD0","Application":"YourProjectName"}
{"@t":"2025-11-20T04:50:02.8259757Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c79aaf14fd2279e3b7739779769c73f6","@sp":"6adc75d1a8fe05e3","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7U0NLGLID:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:50:06.2438162Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"c79aaf14fd2279e3b7739779769c73f6","@sp":"6adc75d1a8fe05e3","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"323033e3-1cd5-4f8e-84f2-b891d7bd86fa","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7U0NLGLID:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:50:06.2450366Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"c79aaf14fd2279e3b7739779769c73f6","@sp":"6adc75d1a8fe05e3","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"323033e3-1cd5-4f8e-84f2-b891d7bd86fa","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7U0NLGLID:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:51:36.1177462Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"4d220b87767fe626b2c5ac851dbd9fa9","@sp":"d8e06ef37749652b","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"561af196-3f4b-4949-9d1b-71847786e188","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U0NLGLID:00000006","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:51:36.1364462Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"4d220b87767fe626b2c5ac851dbd9fa9","@sp":"d8e06ef37749652b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"561af196-3f4b-4949-9d1b-71847786e188","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U0NLGLID:00000006","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:51:36.1366493Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"4d220b87767fe626b2c5ac851dbd9fa9","@sp":"d8e06ef37749652b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"561af196-3f4b-4949-9d1b-71847786e188","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U0NLGLID:00000006","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U0NLGLID","Application":"YourProjectName"}
{"@t":"2025-11-20T04:55:13.1350583Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"0abbef6be9140234b9052386de25289b","@sp":"8f91e748c3c8cc59","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7U3J0U18K:00000004","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:55:13.6740897Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"0abbef6be9140234b9052386de25289b","@sp":"8f91e748c3c8cc59","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"3b0a80c6-7b01-4bbc-8577-4afc959eaa5e","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:00000004","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:55:16.4815958Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"0abbef6be9140234b9052386de25289b","@sp":"8f91e748c3c8cc59","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"3b0a80c6-7b01-4bbc-8577-4afc959eaa5e","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:00000004","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:55:16.4824459Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"0abbef6be9140234b9052386de25289b","@sp":"8f91e748c3c8cc59","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"3b0a80c6-7b01-4bbc-8577-4afc959eaa5e","ActionName":"ClinicManagement.API.Controllers.SessionController.GetSessionsByPatient (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:00000004","RequestPath":"/api/Session/patient/P1","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:57:26.8730554Z","@mt":"Entity: Prescription, Action: Added, Time: 11/20/2025 6:57:26 AM","@tr":"a8b5cce8d27aa9a34452fc6965f41dcf","@sp":"2ae9c57391c701ed","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"9aad2a74-a044-4ba7-8f3b-3bd35c25445c","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:57:27.0651410Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Prescriptions_Sessions_SessionId\". The conflict occurred in database \"ClinicManagementDb\", table \"dbo.Sessions\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:8aec777c-2715-4082-996b-71c28873697f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a8b5cce8d27aa9a34452fc6965f41dcf","@sp":"2ae9c57391c701ed","contextType":"ClinicManagement.Infrastructure.Data.ClinicDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Prescriptions_Sessions_SessionId\". The conflict occurred in database \"ClinicManagementDb\", table \"dbo.Sessions\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:8aec777c-2715-4082-996b-71c28873697f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"9aad2a74-a044-4ba7-8f3b-3bd35c25445c","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:57:27.1499831Z","@mt":"Error occurred during SaveChanges()","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Prescriptions_Sessions_SessionId\". The conflict occurred in database \"ClinicManagementDb\", table \"dbo.Sessions\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:8aec777c-2715-4082-996b-71c28873697f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59","@tr":"a8b5cce8d27aa9a34452fc6965f41dcf","@sp":"2ae9c57391c701ed","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"9aad2a74-a044-4ba7-8f3b-3bd35c25445c","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7U3J0U18K:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T04:57:27.3813533Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Prescriptions_Sessions_SessionId\". The conflict occurred in database \"ClinicManagementDb\", table \"dbo.Sessions\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:8aec777c-2715-4082-996b-71c28873697f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at ClinicManagement.Infrastructure.Data.ClinicDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Data\\ClinicDbContext.cs:line 59\r\n   at ClinicManagement.Infrastructure.Repositories.UnitOfWork.SaveChangesAsync() in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Infrastructure\\Repositories\\UnitOfWork.cs:line 168\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 75\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"a8b5cce8d27aa9a34452fc6965f41dcf","@sp":"2ae9c57391c701ed","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7U3J0U18K:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7U3J0U18K","Application":"YourProjectName"}
{"@t":"2025-11-20T05:21:28.1769941Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"4da114b1eeb0bfea2865606ecada930c","@sp":"9d2e9523521d95d8","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7UHOMENSV:00000004","RequestPath":"/api/Attendance/session/6","ConnectionId":"0HNH7UHOMENSV","Application":"YourProjectName"}
{"@t":"2025-11-20T05:21:28.7455191Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"4da114b1eeb0bfea2865606ecada930c","@sp":"9d2e9523521d95d8","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e897a37e-fbb8-47fb-9ee3-aa33059b5e5b","ActionName":"ClinicManagement.API.Controllers.AttendanceController.GetAttendancesBySessionId (ClinicManagement.API)","RequestId":"0HNH7UHOMENSV:00000004","RequestPath":"/api/Attendance/session/6","ConnectionId":"0HNH7UHOMENSV","Application":"YourProjectName"}
{"@t":"2025-11-20T05:21:55.3936398Z","@mt":"Unable to resolve service for type 'ClinicManagement.Application.Interfaces.IPrescriptionService' while attempting to activate 'ClinicManagement.API.Controllers.PrescriptionController'.","@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'ClinicManagement.Application.Interfaces.IPrescriptionService' while attempting to activate 'ClinicManagement.API.Controllers.PrescriptionController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method295(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"de48545147b3617e1703ae9d90690d28","@sp":"d62da704915da129","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UHOMENSV:00000005","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UHOMENSV","Application":"YourProjectName"}
{"@t":"2025-11-20T05:23:45.2860673Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"1d6bee816e82223f38aaef3e48a042b8","@sp":"7aed27b293b33249","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7UJI0U9TN:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:23:48.7495820Z","@mt":"Session not found.","@l":"Error","@x":"System.Exception: Session not found.\r\n   at ClinicManagement.Application.Services.PrescriptionService.CreatePrescriptionAsync(CreatePrescriptionDto dto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PrescriptionService.cs:line 30\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"1d6bee816e82223f38aaef3e48a042b8","@sp":"7aed27b293b33249","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UJI0U9TN:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:24:00.1006702Z","@mt":"Cannot create prescription for an absent patient.","@l":"Error","@x":"System.Exception: Cannot create prescription for an absent patient.\r\n   at ClinicManagement.Application.Services.PrescriptionService.CreatePrescriptionAsync(CreatePrescriptionDto dto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PrescriptionService.cs:line 33\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"19917d5b17587d4045efe83ff625c02a","@sp":"3885d7960f07705e","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UJI0U9TN:00000004","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:24:28.2511363Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"04b04df36a2a9fa16d5839a5b915af41","@sp":"0082c96021a48325","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"a8c09600-1452-49f1-ac42-15fd9004e461","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7UJI0U9TN:00000005","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:24:28.4450379Z","@mt":"Entity: Attendance, Action: Modified, Time: 11/20/2025 7:24:28 AM","@tr":"04b04df36a2a9fa16d5839a5b915af41","@sp":"0082c96021a48325","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a8c09600-1452-49f1-ac42-15fd9004e461","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7UJI0U9TN:00000005","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:24:28.4485973Z","@mt":"Property IsPresent: False => True","@tr":"04b04df36a2a9fa16d5839a5b915af41","@sp":"0082c96021a48325","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"a8c09600-1452-49f1-ac42-15fd9004e461","ActionName":"ClinicManagement.API.Controllers.AttendanceController.MarkAttendanceAsPresent (ClinicManagement.API)","RequestId":"0HNH7UJI0U9TN:00000005","RequestPath":"/api/Attendance/mark-present","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:26:42.8373063Z","@mt":"The session must be completed before writing a prescription.","@l":"Error","@x":"System.Exception: The session must be completed before writing a prescription.\r\n   at ClinicManagement.Application.Services.PrescriptionService.CreatePrescriptionAsync(CreatePrescriptionDto dto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PrescriptionService.cs:line 36\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"2a9987c576308352ab6af116d33ac356","@sp":"2c0095817f0334b0","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UJI0U9TN:00000006","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:27:02.7937691Z","@mt":"Prescription already exists for this session.","@l":"Error","@x":"System.Exception: Prescription already exists for this session.\r\n   at ClinicManagement.Application.Services.PrescriptionService.CreatePrescriptionAsync(CreatePrescriptionDto dto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PrescriptionService.cs:line 43\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"a4b86f45ba7fe19e1bcd0a448f4c83da","@sp":"659e34cc7b488247","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UJI0U9TN:00000007","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:27:19.7224555Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"ffa94c81dc68fadf74338577fbd0ba22","@sp":"63f08da15ca9c4b3","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"685a2e88-6ed0-4081-b6f0-5996013e89fe","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7UJI0U9TN:00000008","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:27:19.7238866Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"ffa94c81dc68fadf74338577fbd0ba22","@sp":"63f08da15ca9c4b3","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"685a2e88-6ed0-4081-b6f0-5996013e89fe","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7UJI0U9TN:00000008","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UJI0U9TN","Application":"YourProjectName"}
{"@t":"2025-11-20T05:30:13.6465743Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"928d80f8bd6b09595c8372ceb828dfb0","@sp":"d273acef2c6fe9b0","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7UNACI3TO:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UNACI3TO","Application":"YourProjectName"}
{"@t":"2025-11-20T05:32:33.5405137Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"3cefd10e8f9e5f9fb45efe16718a363f","@sp":"c5a480b43574b856","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH7UOLBLU84:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:32:37.5375125Z","@mt":"Entity: Prescription, Action: Added, Time: 11/20/2025 7:32:37 AM","@tr":"3cefd10e8f9e5f9fb45efe16718a363f","@sp":"c5a480b43574b856","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"5f5e5f7f-3092-488c-ac84-b567a8e0dfce","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:32:37.7725820Z","@mt":"Entity: MedicalRecord, Action: Added, Time: 11/20/2025 7:32:37 AM","@tr":"3cefd10e8f9e5f9fb45efe16718a363f","@sp":"c5a480b43574b856","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"5f5e5f7f-3092-488c-ac84-b567a8e0dfce","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000003","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:32:46.5309935Z","@mt":"Prescription already exists for this session.","@l":"Error","@x":"System.Exception: Prescription already exists for this session.\r\n   at ClinicManagement.Application.Services.PrescriptionService.CreatePrescriptionAsync(CreatePrescriptionDto dto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PrescriptionService.cs:line 40\r\n   at ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription(CreatePrescriptionDto prescriptionDto) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PrescriptionController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"22af63bbdc014a695cd49100ebbd6146","@sp":"27902375c034ee42","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH7UOLBLU84:00000004","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:33:12.2755550Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"3dd0df4be04f6663a625520b68e197ab","@sp":"6cbcb0b5dbba7c1c","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e9951007-dc8f-44e6-9766-97134831ba54","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000005","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:33:12.2765053Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"3dd0df4be04f6663a625520b68e197ab","@sp":"6cbcb0b5dbba7c1c","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e9951007-dc8f-44e6-9766-97134831ba54","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.GetAllPrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000005","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:33:43.4945721Z","@mt":"Entity: Prescription, Action: Modified, Time: 11/20/2025 7:33:43 AM","@tr":"e8662427a9c75a44d3d03aec94442948","@sp":"7d93a72ba149a149","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"b2c2b58d-b160-41ee-81d8-de7afe5fc887","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.UpdatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000006","RequestPath":"/api/Prescription/6","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:33:43.4973059Z","@mt":"Property Notes: string => stringTest","@tr":"e8662427a9c75a44d3d03aec94442948","@sp":"7d93a72ba149a149","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"b2c2b58d-b160-41ee-81d8-de7afe5fc887","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.UpdatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000006","RequestPath":"/api/Prescription/6","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:34:11.4926573Z","@mt":"Entity: Prescription, Action: Deleted, Time: 11/20/2025 7:34:11 AM","@tr":"c0b216209e2a4a56e3251ded30f087ab","@sp":"88e5fda75ecf1021","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"09b201dc-0cbd-4eba-9225-ee471be55f3c","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.DeletePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:00000008","RequestPath":"/api/Prescription/6","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:34:30.1057773Z","@mt":"Entity: Prescription, Action: Added, Time: 11/20/2025 7:34:30 AM","@tr":"d4a60e1bd1e984744a8067c3a49352ce","@sp":"8d437698de88f9dc","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"5f5e5f7f-3092-488c-ac84-b567a8e0dfce","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:34:30.1335111Z","@mt":"Entity: MedicalRecord, Action: Added, Time: 11/20/2025 7:34:30 AM","@tr":"d4a60e1bd1e984744a8067c3a49352ce","@sp":"8d437698de88f9dc","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"5f5e5f7f-3092-488c-ac84-b567a8e0dfce","ActionName":"ClinicManagement.API.Controllers.PrescriptionController.CreatePrescription (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000A","RequestPath":"/api/Prescription","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:35:50.8246673Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"ce682080d0c3efa6f24a0658b888b4ac","@sp":"8bc014936e534b51","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"9cde87a6-1831-4705-ae78-c39e4b1c3ac9","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.GetAllMedicalRecords (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000B","RequestPath":"/api/MedicalRecord","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:35:50.8338177Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"ce682080d0c3efa6f24a0658b888b4ac","@sp":"8bc014936e534b51","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"9cde87a6-1831-4705-ae78-c39e4b1c3ac9","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.GetAllMedicalRecords (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000B","RequestPath":"/api/MedicalRecord","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:35:50.8339722Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"ce682080d0c3efa6f24a0658b888b4ac","@sp":"8bc014936e534b51","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"9cde87a6-1831-4705-ae78-c39e4b1c3ac9","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.GetAllMedicalRecords (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000B","RequestPath":"/api/MedicalRecord","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:36:51.0352670Z","@mt":"Entity: MedicalRecord, Action: Modified, Time: 11/20/2025 7:36:51 AM","@tr":"439748039f64ee499399d277d828dfc5","@sp":"dedee886093a1245","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0765e177-bae4-478b-a66c-bbb5f93a0d09","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.UpdateMedicalRecord (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000D","RequestPath":"/api/MedicalRecord/5","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:36:51.0357720Z","@mt":"Property Diagnosis: string => stringT","@tr":"439748039f64ee499399d277d828dfc5","@sp":"dedee886093a1245","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0765e177-bae4-478b-a66c-bbb5f93a0d09","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.UpdateMedicalRecord (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000D","RequestPath":"/api/MedicalRecord/5","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:36:51.0359305Z","@mt":"Property Notes: string => stringT","@tr":"439748039f64ee499399d277d828dfc5","@sp":"dedee886093a1245","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"0765e177-bae4-478b-a66c-bbb5f93a0d09","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.UpdateMedicalRecord (ClinicManagement.API)","RequestId":"0HNH7UOLBLU84:0000000D","RequestPath":"/api/MedicalRecord/5","ConnectionId":"0HNH7UOLBLU84","Application":"YourProjectName"}
{"@t":"2025-11-20T05:39:35.9454037Z","@mt":"Entity: MedicalRecord, Action: Deleted, Time: 11/20/2025 7:39:35 AM","@tr":"cca269ce5da3588d6883046daaba5feb","@sp":"05e760d7a75fd571","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"38f5f4e7-646f-47df-9764-43d1cc09e816","ActionName":"ClinicManagement.API.Controllers.MedicalRecordController.DeleteMedicalRecord (ClinicManagement.API)","RequestId":"0HNH7UOLBLU86:00000002","RequestPath":"/api/MedicalRecord/5","ConnectionId":"0HNH7UOLBLU86","Application":"YourProjectName"}
{"@t":"2025-11-20T07:18:19.0893403Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"57854286aa4e9963b94afc7d781f70bd","@sp":"c0bda4fad770f285","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80JOPS2FI:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:18:19.6733894Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"57854286aa4e9963b94afc7d781f70bd","@sp":"c0bda4fad770f285","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"be7047ee-ff31-4a08-af79-4f7e3e4417d1","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:18:22.3277550Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"57854286aa4e9963b94afc7d781f70bd","@sp":"c0bda4fad770f285","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"be7047ee-ff31-4a08-af79-4f7e3e4417d1","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:18:22.3300941Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"57854286aa4e9963b94afc7d781f70bd","@sp":"c0bda4fad770f285","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"be7047ee-ff31-4a08-af79-4f7e3e4417d1","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:19:55.4625323Z","@mt":"Entity: Bill, Action: Modified, Time: 11/20/2025 9:19:55 AM","@tr":"d1c4e036b1d86f172713c547708b46f8","@sp":"6716fd1d85545a78","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"da4472af-1728-473b-a91f-6c640d10c425","ActionName":"ClinicManagement.API.Controllers.BillController.MarkBillAsPaid (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:0000000A","RequestPath":"/api/Bill/mark-paid/2","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:19:55.4658462Z","@mt":"Property IsPaid: False => True","@tr":"d1c4e036b1d86f172713c547708b46f8","@sp":"6716fd1d85545a78","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"da4472af-1728-473b-a91f-6c640d10c425","ActionName":"ClinicManagement.API.Controllers.BillController.MarkBillAsPaid (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:0000000A","RequestPath":"/api/Bill/mark-paid/2","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:21:28.3356498Z","@mt":"Entity: Bill, Action: Modified, Time: 11/20/2025 9:21:28 AM","@tr":"d4f94139fd8886769e97faaceba7902e","@sp":"99ee085cbfcb44a1","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"1fbe6f31-0b63-407c-bc31-afa78d2a6a8c","ActionName":"ClinicManagement.API.Controllers.BillController.UpdateBill (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:0000000E","RequestPath":"/api/Bill/2","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:21:28.3361370Z","@mt":"Property Amount: 500.00 => 550","@tr":"d4f94139fd8886769e97faaceba7902e","@sp":"99ee085cbfcb44a1","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"1fbe6f31-0b63-407c-bc31-afa78d2a6a8c","ActionName":"ClinicManagement.API.Controllers.BillController.UpdateBill (ClinicManagement.API)","RequestId":"0HNH80JOPS2FI:0000000E","RequestPath":"/api/Bill/2","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:23:23.5067310Z","@mt":"Patient with ID string not found.","@l":"Error","@x":"System.InvalidOperationException: Patient with ID string not found.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 38\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"3c08698b4c3a8c1ad886a2420b8809f6","@sp":"301ba79e08c4a058","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80JOPS2FI:00000010","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:23:38.1482916Z","@mt":"Session with ID 10 not found.","@l":"Error","@x":"System.InvalidOperationException: Session with ID 10 not found.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 42\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"7c14e1761933d97d8b927d4cb566530e","@sp":"dc65323a1b443237","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80JOPS2FI:00000011","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:24:03.1825513Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"ad5fde78aacde20b68e8e073c63b125d","@sp":"1184758bb251cb5c","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80JOPS2FI:00000012","RequestPath":"/api/Bill","ConnectionId":"0HNH80JOPS2FI","Application":"YourProjectName"}
{"@t":"2025-11-20T07:26:40.8568737Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a6e92dc9d063a0a7055a0d57da60cec6","@sp":"96b49ffde66e9336","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80OF898K6:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80OF898K6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:26:41.4164304Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"a6e92dc9d063a0a7055a0d57da60cec6","@sp":"96b49ffde66e9336","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"eb76dbd1-85ec-47bc-b6ac-fb946c01cf77","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80OF898K6:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80OF898K6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:26:44.9200536Z","@mt":"Patient with ID string not found.","@l":"Error","@x":"System.InvalidOperationException: Patient with ID string not found.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 38\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"a6e92dc9d063a0a7055a0d57da60cec6","@sp":"96b49ffde66e9336","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80OF898K6:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80OF898K6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:26:48.2531215Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"1e9e808b2225571475ad92d78bb56e28","@sp":"bbbf016f9b9d9be6","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80OF898K6:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80OF898K6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:27:51.6564403Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"0ddacd7d8da6070384c09943ba8b5061","@sp":"be9ed54eaae4726e","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80OS4T5E4:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80OS4T5E4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:27:52.1432325Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"0ddacd7d8da6070384c09943ba8b5061","@sp":"be9ed54eaae4726e","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"8ac559d5-9e9a-4532-87ee-e21e11a211b1","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80OS4T5E4:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80OS4T5E4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:27:55.1785228Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"0ddacd7d8da6070384c09943ba8b5061","@sp":"be9ed54eaae4726e","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80OS4T5E4:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80OS4T5E4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:29:23.7396639Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"3550655269e30d36c920adb4fd095dce","@sp":"8e6912c04f408122","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80PMIUMVV:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80PMIUMVV","Application":"YourProjectName"}
{"@t":"2025-11-20T07:29:24.2157312Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"3550655269e30d36c920adb4fd095dce","@sp":"8e6912c04f408122","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"96667036-d592-4e82-948c-dad6730d5437","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80PMIUMVV:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80PMIUMVV","Application":"YourProjectName"}
{"@t":"2025-11-20T07:29:27.3719083Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"3550655269e30d36c920adb4fd095dce","@sp":"8e6912c04f408122","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80PMIUMVV:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80PMIUMVV","Application":"YourProjectName"}
{"@t":"2025-11-20T07:30:27.8714888Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"6c71d2a77bc3f77468f844fd49145771","@sp":"db594666e76164d9","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80QGE2L7O:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80QGE2L7O","Application":"YourProjectName"}
{"@t":"2025-11-20T07:30:28.3211097Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"6c71d2a77bc3f77468f844fd49145771","@sp":"db594666e76164d9","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"90fdd426-0ae2-4bc3-b844-03e0c656dc0f","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80QGE2L7O:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80QGE2L7O","Application":"YourProjectName"}
{"@t":"2025-11-20T07:34:28.6220905Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"e1714416efae69fd8aaeff7bcfb46de2","@sp":"8ed16efffc790f7c","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80RIK6EUQ:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80RIK6EUQ","Application":"YourProjectName"}
{"@t":"2025-11-20T07:34:29.8843502Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"e1714416efae69fd8aaeff7bcfb46de2","@sp":"8ed16efffc790f7c","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"ab1178de-ce0c-45a4-bb93-3b02df2f23b7","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80RIK6EUQ:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80RIK6EUQ","Application":"YourProjectName"}
{"@t":"2025-11-20T07:34:37.4285021Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"e1714416efae69fd8aaeff7bcfb46de2","@sp":"8ed16efffc790f7c","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80RIK6EUQ:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80RIK6EUQ","Application":"YourProjectName"}
{"@t":"2025-11-20T07:36:39.2606064Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"64abcaeca8a2e3720dca48f7140c4099","@sp":"7ac0e9c2c2f9f7ab","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6ba1a501-f783-4012-9552-47d52dd9d434","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH80RIK6EUT:00000001","RequestPath":"/api/Bill","ConnectionId":"0HNH80RIK6EUT","Application":"YourProjectName"}
{"@t":"2025-11-20T07:36:39.2654181Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"64abcaeca8a2e3720dca48f7140c4099","@sp":"7ac0e9c2c2f9f7ab","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6ba1a501-f783-4012-9552-47d52dd9d434","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH80RIK6EUT:00000001","RequestPath":"/api/Bill","ConnectionId":"0HNH80RIK6EUT","Application":"YourProjectName"}
{"@t":"2025-11-20T07:37:27.6691913Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"5c154d0c94b59020a189f9b18f9bd8cd","@sp":"852cb8ca2688c430","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80UEJHO62:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80UEJHO62","Application":"YourProjectName"}
{"@t":"2025-11-20T07:37:29.0047597Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"5c154d0c94b59020a189f9b18f9bd8cd","@sp":"852cb8ca2688c430","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"8f68b3f3-1e1f-4eb8-b7ff-ce2f5d0bdc87","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80UEJHO62:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80UEJHO62","Application":"YourProjectName"}
{"@t":"2025-11-20T07:39:32.8038228Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"4a0aaecce4f14d60480945f2801afa10","@sp":"dbd5853e65c7bf77","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH80VJU3JO4:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80VJU3JO4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:39:33.7149830Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"4a0aaecce4f14d60480945f2801afa10","@sp":"dbd5853e65c7bf77","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"fa7a995b-4938-4c99-bf12-377ae38f4c33","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80VJU3JO4:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80VJU3JO4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:39:43.6502667Z","@mt":"No services selected for this session. Cannot create bill.","@l":"Error","@x":"System.InvalidOperationException: No services selected for this session. Cannot create bill.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 50\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"4a0aaecce4f14d60480945f2801afa10","@sp":"dbd5853e65c7bf77","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80VJU3JO4:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH80VJU3JO4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:40:39.2954564Z","@mt":"Entity: Bill, Action: Added, Time: 11/20/2025 9:40:39 AM","@tr":"c8409935410a7651f2388bd915c00f1b","@sp":"f508c50f32d9afbb","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"fa7a995b-4938-4c99-bf12-377ae38f4c33","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH80VJU3JO4:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80VJU3JO4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:40:39.8873333Z","@mt":"No route matches the supplied values.","@l":"Error","@x":"System.InvalidOperationException: No route matches the supplied values.\r\n   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"c8409935410a7651f2388bd915c00f1b","@sp":"f508c50f32d9afbb","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH80VJU3JO4:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH80VJU3JO4","Application":"YourProjectName"}
{"@t":"2025-11-20T07:42:14.1840305Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"12e0e8346405acc5a184be59d7960d7a","@sp":"311bc4d23a7f6940","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH81142EOE2:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:42:15.3073341Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"12e0e8346405acc5a184be59d7960d7a","@sp":"311bc4d23a7f6940","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e314776e-9918-44e3-88c6-e8b96735ada7","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH81142EOE2:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:42:24.0548172Z","@mt":"A bill already exists for this session.","@l":"Error","@x":"System.InvalidOperationException: A bill already exists for this session.\r\n   at ClinicManagement.Infrastructure.Services.BillingService.CreateBillAsync(String patientId, Int32 sessionId) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\BillingService.cs:line 46\r\n   at ClinicManagement.Application.Commands.Bills.CreateBill.CreateBillHandler.Handle(CreateBillCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Bills\\CreateBill\\CreateBillHandler.cs:line 31\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.BillController.CreateBill(CreateBillCommand createBillCommand) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\BillController.cs:line 72\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"12e0e8346405acc5a184be59d7960d7a","@sp":"311bc4d23a7f6940","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH81142EOE2:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:44:17.4807781Z","@mt":"Entity: Bill, Action: Deleted, Time: 11/20/2025 9:44:17 AM","@tr":"0f50d45b9d647f5ee648041b8f7b3f0e","@sp":"5767dbb3ac528fe9","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"8c4f05fa-24a8-478e-8726-46dba730bf56","ActionName":"ClinicManagement.API.Controllers.BillController.DeleteBill (ClinicManagement.API)","RequestId":"0HNH81142EOE2:00000004","RequestPath":"/api/Bill/4","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:44:27.1399466Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"a7cd6ade88e875c23532cbbfde4e0f9d","@sp":"f6be29100f81fd40","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"1f8ce5d1-3717-420c-a4bc-16e691a0c0c5","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH81142EOE2:00000005","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:44:27.1421661Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"a7cd6ade88e875c23532cbbfde4e0f9d","@sp":"f6be29100f81fd40","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"1f8ce5d1-3717-420c-a4bc-16e691a0c0c5","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH81142EOE2:00000005","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:44:41.4132314Z","@mt":"Entity: Bill, Action: Added, Time: 11/20/2025 9:44:41 AM","@tr":"d162fbbed3bb31b2d9c1ec48f09499c7","@sp":"216ecfe0c3a4da91","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"e314776e-9918-44e3-88c6-e8b96735ada7","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH81142EOE2:00000006","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:44:41.9192236Z","@mt":"A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.","@l":"Error","@x":"System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.Session.Patient.Bills.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"d162fbbed3bb31b2d9c1ec48f09499c7","@sp":"216ecfe0c3a4da91","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH81142EOE2:00000006","RequestPath":"/api/Bill","ConnectionId":"0HNH81142EOE2","Application":"YourProjectName"}
{"@t":"2025-11-20T07:46:48.1743346Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"d871dd340fc1df2fe0022d75ccbb83db","@sp":"7ad728299eb4b172","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH813L66KIF:00000003","RequestPath":"/api/Bill/5","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:46:49.5152018Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"d871dd340fc1df2fe0022d75ccbb83db","@sp":"7ad728299eb4b172","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"38e93514-830c-4e24-bef6-25fc66c87f25","ActionName":"ClinicManagement.API.Controllers.BillController.DeleteBill (ClinicManagement.API)","RequestId":"0HNH813L66KIF:00000003","RequestPath":"/api/Bill/5","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:46:57.7913849Z","@mt":"Entity: Bill, Action: Deleted, Time: 11/20/2025 9:46:57 AM","@tr":"d871dd340fc1df2fe0022d75ccbb83db","@sp":"7ad728299eb4b172","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"38e93514-830c-4e24-bef6-25fc66c87f25","ActionName":"ClinicManagement.API.Controllers.BillController.DeleteBill (ClinicManagement.API)","RequestId":"0HNH813L66KIF:00000003","RequestPath":"/api/Bill/5","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:47:15.6287032Z","@mt":"Entity: Bill, Action: Added, Time: 11/20/2025 9:47:15 AM","@tr":"1a86da7df7d498fb98d96bdc30e0cfec","@sp":"633b04d1812e24be","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"d3a3243b-0454-4661-8e6c-c2d62fdc2277","ActionName":"ClinicManagement.API.Controllers.BillController.CreateBill (ClinicManagement.API)","RequestId":"0HNH813L66KIF:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:14.9181113Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"944d3b99a91fd3c4a3732a97f60b899f","@sp":"9652fb2f4be69401","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"91726cc1-a4d4-4058-94f8-b31f1ff89fca","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH813L66KIF:00000005","RequestPath":"/api/Bill","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:14.9231991Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"944d3b99a91fd3c4a3732a97f60b899f","@sp":"9652fb2f4be69401","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"91726cc1-a4d4-4058-94f8-b31f1ff89fca","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH813L66KIF:00000005","RequestPath":"/api/Bill","ConnectionId":"0HNH813L66KIF","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:48.8695823Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"186d8dd02614e506415be48f8cef6907","@sp":"986726cecfc4eb50","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH814QABA2G:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH814QABA2G","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:50.1643987Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"186d8dd02614e506415be48f8cef6907","@sp":"986726cecfc4eb50","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"29cb9436-658d-4f1e-8d7f-052b4516e130","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH814QABA2G:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH814QABA2G","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:57.2461705Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"186d8dd02614e506415be48f8cef6907","@sp":"986726cecfc4eb50","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"29cb9436-658d-4f1e-8d7f-052b4516e130","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH814QABA2G:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH814QABA2G","Application":"YourProjectName"}
{"@t":"2025-11-20T07:48:57.2482328Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"186d8dd02614e506415be48f8cef6907","@sp":"986726cecfc4eb50","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"29cb9436-658d-4f1e-8d7f-052b4516e130","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH814QABA2G:00000004","RequestPath":"/api/Bill","ConnectionId":"0HNH814QABA2G","Application":"YourProjectName"}
{"@t":"2025-11-20T07:59:06.7938519Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"e1abef8711eb352ce8c272ffb352bdab","@sp":"d544a4d1c66fea04","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH81AAN21R6:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81AAN21R6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:59:07.8375792Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"e1abef8711eb352ce8c272ffb352bdab","@sp":"d544a4d1c66fea04","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e58b5ec9-4202-42bb-9409-1551053f1770","ActionName":"ClinicManagement.API.Controllers.PaymentController.GetAllPayments (ClinicManagement.API)","RequestId":"0HNH81AAN21R6:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81AAN21R6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:59:13.6400966Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e1abef8711eb352ce8c272ffb352bdab","@sp":"d544a4d1c66fea04","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e58b5ec9-4202-42bb-9409-1551053f1770","ActionName":"ClinicManagement.API.Controllers.PaymentController.GetAllPayments (ClinicManagement.API)","RequestId":"0HNH81AAN21R6:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81AAN21R6","Application":"YourProjectName"}
{"@t":"2025-11-20T07:59:13.6416468Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e1abef8711eb352ce8c272ffb352bdab","@sp":"d544a4d1c66fea04","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e58b5ec9-4202-42bb-9409-1551053f1770","ActionName":"ClinicManagement.API.Controllers.PaymentController.GetAllPayments (ClinicManagement.API)","RequestId":"0HNH81AAN21R6:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81AAN21R6","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:27.6555949Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"54f283304707571951893f895c345b32","@sp":"aa67c199775e7cf5","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH81F3878KS:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:28.7703941Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"54f283304707571951893f895c345b32","@sp":"aa67c199775e7cf5","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"e6abad55-9905-4753-864e-43a9cba778db","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:35.7893428Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"54f283304707571951893f895c345b32","@sp":"aa67c199775e7cf5","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e6abad55-9905-4753-864e-43a9cba778db","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:35.7935051Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"54f283304707571951893f895c345b32","@sp":"aa67c199775e7cf5","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e6abad55-9905-4753-864e-43a9cba778db","ActionName":"ClinicManagement.API.Controllers.BillController.GetAllBills (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000003","RequestPath":"/api/Bill","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:54.6787285Z","@mt":"Entity: Payment, Action: Added, Time: 11/20/2025 10:07:54 AM","@tr":"4ade18f4e92a797cb589228b235b7b6e","@sp":"caf120668c380755","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"fd7b4011-0b81-407c-9a43-6b1136ab2983","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000004","RequestPath":"/api/Payment","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:54.6793023Z","@mt":"Entity: Bill, Action: Modified, Time: 11/20/2025 10:07:54 AM","@tr":"4ade18f4e92a797cb589228b235b7b6e","@sp":"caf120668c380755","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"fd7b4011-0b81-407c-9a43-6b1136ab2983","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000004","RequestPath":"/api/Payment","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:54.6850414Z","@mt":"Property IsPaid: False => True","@tr":"4ade18f4e92a797cb589228b235b7b6e","@sp":"caf120668c380755","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"fd7b4011-0b81-407c-9a43-6b1136ab2983","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81F3878KS:00000004","RequestPath":"/api/Payment","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:07:55.4751142Z","@mt":"No route matches the supplied values.","@l":"Error","@x":"System.InvalidOperationException: No route matches the supplied values.\r\n   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"4ade18f4e92a797cb589228b235b7b6e","@sp":"caf120668c380755","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH81F3878KS:00000004","RequestPath":"/api/Payment","ConnectionId":"0HNH81F3878KS","Application":"YourProjectName"}
{"@t":"2025-11-20T08:11:22.3045038Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"29369c682c0adbf14cfb48d356de8ce3","@sp":"e75022b6fd0d9069","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNH81HCEP52Q:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:11:24.0522808Z","@mt":"You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.","@l":"Warning","@tr":"29369c682c0adbf14cfb48d356de8ce3","@sp":"e75022b6fd0d9069","SourceContext":"LuckyPennySoftware.MediatR.License","ActionId":"63f10d16-cc6b-41b9-ad06-e333a2b84fda","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:11:30.9520512Z","@mt":"Bill not found.","@l":"Error","@x":"System.InvalidOperationException: Bill not found.\r\n   at ClinicManagement.Application.Services.PaymentService.CreatePayment(Int32 billId, PaymentMethod method) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PaymentService.cs:line 26\r\n   at ClinicManagement.Application.Commands.Payments.CreatePayment.CreatePaymentHandler.Handle(CreatePaymentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Payments\\CreatePayment\\CreatePaymentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.PaymentController.CreatePayment(CreatePaymentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PaymentController.cs:line 74\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"29369c682c0adbf14cfb48d356de8ce3","@sp":"e75022b6fd0d9069","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH81HCEP52Q:00000003","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:14:24.5939296Z","@mt":"Bill is already marked as paid.","@l":"Error","@x":"System.InvalidOperationException: Bill is already marked as paid.\r\n   at ClinicManagement.Application.Services.PaymentService.CreatePayment(Int32 billId, PaymentMethod method) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Services\\PaymentService.cs:line 29\r\n   at ClinicManagement.Application.Commands.Payments.CreatePayment.CreatePaymentHandler.Handle(CreatePaymentCommand request, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Commands\\Payments\\CreatePayment\\CreatePaymentHandler.cs:line 23\r\n   at ClinicManagement.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.Application\\Behaviors\\ValidationBehavior.cs:line 38\r\n   at ClinicManagement.API.Controllers.PaymentController.CreatePayment(CreatePaymentCommand command) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Controllers\\PaymentController.cs:line 74\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at ClinicManagement.API.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\asus\\source\\repos\\Clinic_Management_System\\Backend\\ClinicManagement\\ClinicManagement.API\\Middlewares\\ExceptionMiddleware.cs:line 22","@tr":"bad8f3bf00c877a19654eaf5c8da7255","@sp":"884329a50cef883e","SourceContext":"ClinicManagement.API.Middlewares.ExceptionMiddleware","RequestId":"0HNH81HCEP52Q:00000004","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:15:37.4563056Z","@mt":"Entity: Payment, Action: Added, Time: 11/20/2025 10:15:37 AM","@tr":"c883da7461416810b1887d9d951376d1","@sp":"f0f152fc073fa4f2","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"63f10d16-cc6b-41b9-ad06-e333a2b84fda","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000005","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:15:37.4568280Z","@mt":"Entity: Bill, Action: Modified, Time: 11/20/2025 10:15:37 AM","@tr":"c883da7461416810b1887d9d951376d1","@sp":"f0f152fc073fa4f2","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"63f10d16-cc6b-41b9-ad06-e333a2b84fda","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000005","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:15:37.4596184Z","@mt":"Property IsPaid: False => True","@tr":"c883da7461416810b1887d9d951376d1","@sp":"f0f152fc073fa4f2","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"63f10d16-cc6b-41b9-ad06-e333a2b84fda","ActionName":"ClinicManagement.API.Controllers.PaymentController.CreatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000005","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:16:08.5726141Z","@mt":"Entity: Payment, Action: Modified, Time: 11/20/2025 10:16:08 AM","@tr":"e892648b1692b37383ca81733a0ec98e","@sp":"9cdf776fb4919f80","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"81143f5f-b972-4817-ae63-d0447975713e","ActionName":"ClinicManagement.API.Controllers.PaymentController.UpdatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000006","RequestPath":"/api/Payment/5","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:16:08.5750921Z","@mt":"Property PaymentMethod: Cash => CreditCard","@tr":"e892648b1692b37383ca81733a0ec98e","@sp":"9cdf776fb4919f80","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"81143f5f-b972-4817-ae63-d0447975713e","ActionName":"ClinicManagement.API.Controllers.PaymentController.UpdatePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000006","RequestPath":"/api/Payment/5","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:16:35.3954458Z","@mt":"Entity: Payment, Action: Deleted, Time: 11/20/2025 10:16:35 AM","@tr":"13843d4ff7519ac0a4f48fd0491c4865","@sp":"731fe7f3e831759a","SourceContext":"ClinicManagement.Infrastructure.Data.ClinicDbContext","ActionId":"ed70f783-e28e-43a4-b837-2d9e2c5c341e","ActionName":"ClinicManagement.API.Controllers.PaymentController.DeletePayment (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000008","RequestPath":"/api/Payment/5","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:16:43.3902793Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"640802f7e493c9943ed017bc574b2af8","@sp":"9d0ae1ba3e5704f4","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"5cf7ed1d-fe10-40d5-b5e5-13f6985a8c90","ActionName":"ClinicManagement.API.Controllers.PaymentController.GetAllPayments (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000009","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
{"@t":"2025-11-20T08:16:43.3932821Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"640802f7e493c9943ed017bc574b2af8","@sp":"9d0ae1ba3e5704f4","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"5cf7ed1d-fe10-40d5-b5e5-13f6985a8c90","ActionName":"ClinicManagement.API.Controllers.PaymentController.GetAllPayments (ClinicManagement.API)","RequestId":"0HNH81HCEP52Q:00000009","RequestPath":"/api/Payment","ConnectionId":"0HNH81HCEP52Q","Application":"YourProjectName"}
